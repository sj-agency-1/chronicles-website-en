---
import TableOfContent from '../structures/TableOfContent.astro';
import { type TocItem } from '../structures/TableOfContent.astro';
import SkillsList from '../structures/SkillsList.astro';
import NeedConsultationCard from '../structures/NeedConsultationCard.astro';

interface Props {
  tocItems?: Array<TocItem>;
  tocItemsMode?: 'default' | 'auto';
}

const { tocItems = [], tocItemsMode = 'default' } = Astro.props as Props;

console.log('Sidebar - tocItemsMode:', tocItemsMode);
---

<div class="flex flex-col gap-5">
  <div class="flex flex-col gap-5 border-r border-r-accent pr-1">
    <div>
      <span class="font-heading text-xl text-primary font-bold mb-4">Содержание</span>
      <TableOfContent items={tocItems} mode={tocItemsMode} />
    </div>
    <div class="w-full h-px bg-accent" />
    <div>
      <span class="font-heading text-xl text-primary font-bold mb-4">Мои навыки</span>
      <SkillsList />
    </div>
  </div>
  <div class="hidden md:block">
    <NeedConsultationCard />
  </div>
</div>
