---
import Image from '~/components/common/Image.astro';

export interface ProjectCardProps {
  id: string;
  href: string;
  imageSrc?: string;
  title: string;
  excerpt: string;
}

const {
  id,
  href,
  imageSrc = 'https://dummyjson.com/image/410x260?text=Dummy+Image',
  title,
  excerpt,
} = Astro.props as ProjectCardProps;
---

<a
  href={href}
  rel="noopener noreferrer"
  class="group flex flex-col gap-4 w-full h-full rounded-lg overflow-hidden transition-shadow duration-200 hover:shadow-lg"
  id={`project-card-${id}`}
  aria-labelledby={`project-title-${id}`}
>
  <div class="w-full aspect-video">
    <Image src={imageSrc} alt={title} class="w-full h-full object-cover" />
  </div>

  <div class="flex flex-col gap-3 p-4 flex-grow">
    <h3 id={`project-title-${id}`} class="font-heading font-bold text-black text-base md:text-lg lg:text-xl">
      {title}
    </h3>
    <p class="text-default text-sm md:text-base">{excerpt}</p>

    <!-- Render a non-interactive styled link text instead of a nested button to avoid invalid interactive nesting -->
    <span class="mt-2 inline-flex items-center gap-2 text-primary text-sm font-medium hover:underline">
      <span>Read More</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-3 h-3"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true"
      >
        <path
          fill-rule="evenodd"
          d="M10.293 15.707a1 1 0 010-1.414L13.586 11H4a1 1 0 110-2h9.586l-3.293-3.293a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z"
          clip-rule="evenodd"></path>
      </svg>
    </span>
  </div>
</a>
